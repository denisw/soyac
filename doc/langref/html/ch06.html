<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Chapter 6. Conversions</title><link rel="stylesheet" href="langref.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><link rel="start" href="index.html" title="The Soya Language Reference" /><link rel="up" href="index.html" title="The Soya Language Reference" /><link rel="prev" href="ch05.html" title="Chapter 5. Variables" /><link rel="next" href="ch07.html" title="Chapter 7. Names" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 6. Conversions</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch05.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch07.html">Next</a></td></tr></table><hr /></div><div class="chapter" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="conversions"></a>Chapter 6. Conversions</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="ch06.html#id3375452">6.1. Implicit Conversions</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch06.html#id3375477">6.1.1. Identity Conversions</a></span></dt><dt><span class="sect2"><a href="ch06.html#id3375485">6.1.2. Widening Numeric Conversions</a></span></dt><dt><span class="sect2"><a href="ch06.html#widening_reference_conversions">6.1.3. Widening Reference Conversions</a></span></dt><dt><span class="sect2"><a href="ch06.html#id3375590">6.1.4. Implicit Constant Expression Conversions</a></span></dt></dl></dd><dt><span class="sect1"><a href="ch06.html#id3375604">6.2. Explicit Conversions</a></span></dt><dd><dl><dt><span class="sect2"><a href="ch06.html#id3375633">6.2.1. Narrowing Numeric Conversions</a></span></dt><dt><span class="sect2"><a href="ch06.html#id3375723">6.2.2. Narrowing Reference Conversions</a></span></dt><dt><span class="sect2"><a href="ch06.html#id3375754">6.2.3. Enumeration Conversions</a></span></dt><dt><span class="sect2"><a href="ch06.html#id3375767">6.2.4. Conversions to <span class="type">bool</span></a></span></dt></dl></dd></dl></div><p>
  A conversion allows an expression of one type to be used as if it had
  another type. There are implicit conversions, which are done automatically
  in certain contexts, and explicit conversions, which are done by using a
  cast expression ().
  </p><div class="sect1" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id3375452"></a>6.1. Implicit Conversions</h2></div></div></div><p>
    The following conversions are classified as implicit:
    </p><div class="itemizedlist"><ul type="disc"><li><p>Identity conversions</p></li><li><p>Widening numeric conversions</p></li><li><p>Widening reference conversions</p></li><li><p>Implicit constant expression conversions</p></li></ul></div><div class="sect2" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="id3375477"></a>6.1.1. Identity Conversions</h3></div></div></div><p>
      An identity conversion is a conversion of a type to itself. Identity
      conversions are possible for expressions of any type.
      </p></div><div class="sect2" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="id3375485"></a>6.1.2. Widening Numeric Conversions</h3></div></div></div><p>
      A conversion of one numeric simple type to another which doesn't
      possibly result in loss of the numeric value's mangitude is said
      to be a widening numeric conversion. Widening numeric conversions are:
      </p><div class="itemizedlist"><ul type="disc"><li><p>From sbyte to short, int, long, float, or double</p></li><li><p>From byte to short, ushort, int, uint, long, ulong, float, or double</p></li><li><p>From short to int, long, float, or double</p></li><li><p>From ushort to int, uint, long, ulong, float, or double</p></li><li><p>From int to long, float, or double</p></li><li><p>From uint to long, ulong, float, or double</p></li><li><p>From long to float or double</p></li><li><p>From ulong to float or double</p></li><li><p>From float to double</p></li></ul></div><p>
      A widening numeric conversion is processed as follows:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
        A conversion from an integral type S to a larger integral type T extends
        the source value to T's size. If S is a signed integer type, this is done
        using sign-extension. If S is unsigned, zero-extension is used.
        </p></li><li><p>
        A conversion from float and double creates a double value with the
        source value's sign, mantissa and exponent, which is then the result
        of the conversion. 
        </p></li></ul></div></div><div class="sect2" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="widening_reference_conversions"></a>6.1.3. Widening Reference Conversions</h3></div></div></div><p>
      A value of a reference type S can be implicitly converted to any reference
      type T, provided that S is a subtype of T.
      </p><p>
      A type S is said to be a subtype of another type T if one of the
      following conditions is true:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
        Both S and T are class types, and T is a base class of S.
        </p></li><li><p>
        Both S and T are interfaces, and T is a base interface of S.
        </p></li><li><p>
        S is a class type, and T is an interface implemented by S.
        </p></li><li><p>
        S is an array type with element type SE and T an array type of element
        type TE, both SE and TE are reference types, and SE can be implicitly
        converted to TE.
        </p></li></ul></div></div><div class="sect2" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="id3375590"></a>6.1.4. Implicit Constant Expression Conversions</h3></div></div></div><p>
      A constant expression of type int may be implicitly converted to
      any other integer type, provided that the expression's value
      is within the range of the destination type.
      </p><p>
      A constant expression of type long can be implicitly converted to ulong,
      provided the expression's value is not negative.
      </p></div></div><div class="sect1" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id3375604"></a>6.2. Explicit Conversions</h2></div></div></div><p>
    The following conversions are classified as explicit:
    </p><div class="itemizedlist"><ul type="disc"><li><p>All implicit conversions</p></li><li><p>Narrowing numeric conversions</p></li><li><p>Narrowing reference conversions</p></li><li><p>Enumeration conversions</p></li><li><p>Conversions to <span class="type">bool</span></p></li></ul></div><div class="sect2" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="id3375633"></a>6.2.1. Narrowing Numeric Conversions</h3></div></div></div><p>
      A conversion of one numeric simple type to another which might
      result in loss of the numeric value's mangitude is said to be a
      narrowing numeric conversion. Narrowing numeric conversions are:
      </p><div class="itemizedlist"><ul type="disc"><li><p>From sbyte to byte, ushort, uint, or ulong</p></li><li><p>From byte to sbyte</p></li><li><p>From short to sbyte, byte, ushort, uint, or ulong</p></li><li><p>From ushort to sbyte, byte, or short</p></li><li><p>From int to sbyte, byte, short, ushort, uint, or ulong</p></li><li><p>From uint to sbyte, byte, short, ushort, or int</p></li><li><p>From long to sbyte, byte, short, ushort, int, uint, or ulong</p></li><li><p>From ulong to sbyte, byte, short, ushort, int, uint, or long</p></li><li><p>From float to sbyte, byte, short, ushort, int, uint, long, or ulong</p></li><li><p>From double to sbyte, byte, short, ushort, int, uint, long, or ulong</p></li><li><p>From double to float</p></li></ul></div><p>
      A narrowing numeric conversion is processed as follows:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
        A conversion from an integral type S to a larger integral type T is
        processed like described in ().
        </p></li><li><p>
        A conversion of an integer value to a smaller integral type T truncates
        the value to the n least significant bits, whereas n is the bit size of T.
        </p></li><li><p>
        A conversion from a floating-point type S to an integral type T rounds
        the value towards zero to the nearest integer value. If the resulting
        value is within the range of T, it is the result of the conversion.
        Otherwise, the result is an undefined value of type T.
        </p></li><li><p>
        A conversion from double to float rounds the value to the nearest float
        value. If the value is too small to be represented as float, the result
        is positive zero or negative zero. If the value is too large, the result
        is positive infinity or negative infinity. If the value is NaN, the result
        is also NaN.
        </p></li></ul></div></div><div class="sect2" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="id3375723"></a>6.2.2. Narrowing Reference Conversions</h3></div></div></div><p>
      Narrowing reference conversions are:
      </p><div class="itemizedlist"><ul type="disc"><li><p>
        From any reference type S to any reference type T, provided T is a
        subtype () of S.
        </p></li><li><p>
        From any class type S to any interface type T, provided S is not final
        and S does not implement T.
        </p></li><li><p>
        From any interface type S to any class type T, provided T is not final.
        </p></li></ul></div><p>
      A narrowing reference conversion only succeeds if the source value is null
      or if the actual type of the object referenced by the source value can be
      implicitly converted to the destination type. Otherwise, an
      InvalidCastExpression () is thrown.
      </p></div><div class="sect2" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="id3375754"></a>6.2.3. Enumeration Conversions</h3></div></div></div><p>
      A value of an enumeration type can be explicitly converted to any type
      to which the enumeration type's underlying value could also be explicitly
      converted. This kind of conversion is processed as if the source value was
      of the enumeration type's underlying type. (For example, a conversion from
      an enumeration type E with the underlying type int to long is treated exactly
      like a conversion from int to long.)
      </p></div><div class="sect2" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="id3375767"></a>6.2.4. Conversions to <span class="type">bool</span></h3></div></div></div><p class="remark"><i><span class="remark">
      To be done.
      </span></i></p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch05.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch07.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 5. Variables </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 7. Names</td></tr></table></div></body></html>
